<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <title>AlpsteinDB</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
.heute-box-carousel {
  position: absolute;
  top: 1rem;
  right: 1rem;
  background: rgba(0, 0, 0, 0.6);
  color: white;
  padding: 1rem;
  border-radius: 8px;
  max-width: 320px;
  font-size: 0.85rem;
  z-index: 20;
  overflow: hidden;
}
.heute-box-carousel .carousel {
  display: flex;
  transition: transform 0.8s ease-in-out;
}
.heute-box-carousel .carousel-item {
  min-width: 100%;
  box-sizing: border-box;
}
.heute-box-carousel .carousel-wrapper {
  position: relative;
  display: flex;
  align-items: center;
}
.heute-box-carousel .nav {
  background: transparent;
  border: none;
  color: white;
  font-size: 1.2rem;
  cursor: pointer;
  z-index: 21;
}
.heute-box-carousel .nav.left { margin-right: 0.5rem; }
.heute-box-carousel .nav.right { margin-left: 0.5rem; }

.hero-text {
  position: absolute;
  top: 40%;
  left: 50%;
  transform: translate(-50%, -50%);
  text-align: center;
  color: white;
}
.hero-text h1 {
  font-size: 3rem;
  margin-bottom: 0.5rem;
}
.hero-text p {
  font-size: 1.25rem;
  margin-bottom: 1rem;
}
.cta-button {
  background-color: #fff;
  color: #333;
  padding: 0.75rem 1.5rem;
  border-radius: 4px;
  text-decoration: none;
  font-weight: bold;
}
.cta-button:hover {
  background-color: #eee;
}

    body, html {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: sans-serif;
    }

    header {
      background: rgba(0, 36, 64, 0.8);
      color: white;
      padding: 1rem;
      position: absolute;
      width: 100%;
      top: 0;
      z-index: 10;
    }

    nav a {
      color: white;
      margin-right: 1rem;
      text-decoration: none;
      font-weight: bold;
    }

    nav a:hover {
      text-decoration: underline;
    }

    .hero {
      position: relative;
      height: 100vh;
      background: url('K8_21.Aug.2023.jpeg') no-repeat center center/cover;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      color: white;
    }

    .hero-overlay {
      position: absolute;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background-color: rgba(0, 0, 0, 0.4);
    }

    .hero-content {
      position: relative;
      z-index: 2;
      padding: 2rem;
    }

    .hero-content h1 {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .hero-content p {
      font-size: 1.25rem;
      margin-bottom: 2rem;
    }

    .hero-content a.button {
      background-color: #024;
      color: white;
      padding: 0.75rem 1.5rem;
      text-decoration: none;
      font-weight: bold;
      border-radius: 5px;
      font-size: 1rem;
    }

    footer {
      background: rgba(255, 255, 255, 0.8);
      padding: 1rem;
      text-align: center;
      font-size: 0.9rem;
      color: #555;
      position: absolute;
      bottom: 0;
      width: 100%;
      z-index: 10;
    }

    footer a {
      color: #024;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>

  <header>
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="eintraege.html">Eintr√§ge</a>
      <a href="charts.html">Charts</a>
      <a href="karte.html">Karte</a>
      <a href="buecher.html">B√ºcher</a>
    </nav>
  </header>

  <div class="hero">
  
<div class="heute-box-carousel">
  <h3 style="margin-top: 0;">Heute vor X Jahren</h3>
  <div class="carousel-wrapper">
    <button class="nav left" onclick="prevHomeSlide()">‚óÄ</button>
    <div class="carousel" id="home-heute-carousel">
      <div class="carousel-item">Lade Eintr√§ge...</div>
    </div>
    <button class="nav right" onclick="nextHomeSlide()">‚ñ∂</button>
  </div>
</div>


<div class="hero-text">
  <h1>Alpstein erleben</h1>
  <p>Eine Entdeckungsreise durch das digitale Gipfelbuch</p>
  <a href="momente.html" class="cta-button">Jetzt entdecken</a>
</div>

    <div class="hero-overlay"></div>
    <div class="hero-content">
      <h1>AlpsteinDB</h1>
      <p>Tauche ein in die Geschichte der Gipfelb√ºcher des Alpsteins</p>
      <a href="eintraege.html" class="button">Jetzt entdecken</a>
    </div>
  </div>

  <footer>
    ¬© Andreas Koller, 2025 ‚Äì <a href="impressum.html">Impressum</a>
  </footer>


<script>
document.addEventListener("DOMContentLoaded", async () => {
  const container = document.getElementById("home-heute-carousel");
  if (!container) return;
  let pos = 0;
  window.homeItems = [];

  try {
    const res = await fetch("https://alpsteindb.onrender.com/api/momente/heute");
    const daten = await res.json();

    const items = daten.filter(e => e.Notiz && e.Notiz.trim().length > 0);
    if (items.length === 0) {
      container.innerHTML = "<div class='carousel-item'>Keine Eintr√§ge gefunden.</div>";
      return;
    }

    window.homeItems = items;
    container.innerHTML = "";
    window.homeItems.forEach(eintrag => {
      const datum = new Date(eintrag.Datum_JMT + "T00:00:00").toLocaleDateString("de-DE", {
        day: "numeric", month: "long", year: "numeric"
      });
      const div = document.createElement("div");
      div.className = "carousel-item";
      div.innerHTML = `
        <em>${datum}</em><br/>
        üèîÔ∏è <strong>${eintrag.Gipfel || "Unbekannt"}</strong><br/>
        üß≠ ${eintrag.Route || "?"}<br/>
        <blockquote style="font-style: italic; margin: 0.5rem 0;">‚Äû${eintrag.Notiz}‚Äú</blockquote>
        üë§ ${(Array.isArray(eintrag.Wer) ? eintrag.Wer.join(", ") : eintrag.Wer || "?")}
      `;
      container.appendChild(div);
    });

    setInterval(() => {
      pos = (pos + 1) % window.homeItems.length;
      container.style.transform = 'translateX(' + (-pos * 100) + '%)';
    }, 12000);
  } catch (err) {
    console.error("Fehler beim Laden von Heute-Eintr√§gen:", err);
  }
});

function nextHomeSlide() {
  const container = document.getElementById("home-heute-carousel");
  pos = (pos + 1) % window.homeItems.length;
  container.style.transform = 'translateX(' + (-pos * 100) + '%)';
}
function prevHomeSlide() {
  const container = document.getElementById("home-heute-carousel");
  pos = (pos - 1 + window.homeItems.length) % window.homeItems.length;
  container.style.transform = 'translateX(' + (-pos * 100) + '%)';
}
</script>
</body>

</html>
