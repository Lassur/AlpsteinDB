
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Gipfelbuch Alpstein</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
  <style>
    .zweispaltig {
      display: flex;
      flex-wrap: wrap;
      gap: 2rem;
      margin-top: 2rem;
    }
    .spalte {
      flex: 1 1 45%;
      min-width: 300px;
    }
    .swiper {
      width: 100%;
      padding-bottom: 1rem;
    }
    .swiper-slide {
      background: #f0f0f0;
      padding: 1rem;
      border-radius: 0.5rem;
    }
  </style>


<style>
  .swiper {
    width: 100%;
    padding-bottom: 2rem;
  }
  .swiper-slide {
    background: #f0f0f0;
    padding: 1.5rem 2rem;
    border-radius: 0.5rem;
    box-sizing: border-box;
    overflow-wrap: break-word;
    min-height: 150px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    text-align: center;
  }
  .swiper-slide * {
    margin: 0;
    padding: 0;
    line-height: 1.3;
  }
  .swiper-button-prev, .swiper-button-next {
    color: #333;
    top: 45%;
  }
  .spalte h2 {
    text-align: center;
  }
</style>

</head>
<body>
  <div class="container">
    <nav>
      <a href="index.html" class="active">Home</a>
      <a href="eintraege.html">Einträge</a>
      <a href="charts.html">Charts</a>
      <a href="buecher.html">Bücher</a>
      <a href="karte.html">Karte</a>
    </nav>

    <h1>Willkommen bei der Alpstein Gipfelbuch Datenbank</h1>
    
<p>
  Dieses Projekt hat zum Ziel, die historischen Gipfelbuch-Einträge aus dem Alpstein-Gebiet systematisch zu erfassen und digital zugänglich zu machen. Hier findest du sowohl Originalkopien der Gipfelbücher als auch transkribierte Einträge in Tabellenform sowie interaktive Auswertungen in Form von Diagrammen und Karten.

  Das Angebot richtet sich an interessierte Wanderer, Kletterer und Alpinisten, an Heimatforscher und Historiker, an Touristiker sowie alle, die sich für die Geschichte des Bergsports oder die Entwicklung der Naturkultur im Alpstein interessieren.

  Sämtliche Inhalte dieses Projekts stehen auf Open-Source-Basis vollständig und frei zugänglich zur Verfügung. Die hier erfassten Daten dürfen unter der 
  <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.de" target="_blank" title="Namensnennung – Nicht kommerziell – Weitergabe unter gleichen Bedingungen">Creative Commons BY-NC-SA 4.0 Lizenz</a> 
  verwendet, geteilt und weiterverarbeitet werden – jedoch nicht für kommerzielle Zwecke. Für Anfragen zur kommerziellen Nutzung wende dich bitte an <a href="mailto:andreas-koller@gmx.ch">andreas-koller@gmx.ch</a>.
</p>

<p style="font-size: 0.9rem; color: #555;">
  <strong>Namensnennung:</strong><br />
  Bitte gib bei Nutzung der Daten folgende Quelle an:<br />
  <em>"Andreas Koller – Projekt 'AlpsteinDB', https://lassur.github.io/AlpsteinDB/"</em>
</p>


    <div class="zweispaltig">
      <div class="spalte">
        <h2>Heute vor X Jahren im Alpstein</h2>
        <div class="swiper" id="swiper-heute">
          <div class="swiper-wrapper" id="heute-vor-wrapper"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div></div></div>

      <div class="spalte">
        <h2 id="notiz-titel-dynamisch"></h2>
<div class="swiper" id="swiper-notizen">
          <div class="swiper-wrapper" id="notiz-carousel"></div>
          <div class="swiper-button-next"></div>
          <div class="swiper-button-prev"></div></div></div>
    
<div class="spalte" style="width: 100%; margin-top: 1rem;">
  <h2 style="text-align: center;">Hommage</h2>
  <div class="swiper" id="swiper-hommage">
    <div class="swiper-wrapper" id="hommage-carousel"></div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div></div></div></div></div>

  <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
  <script>
    loadCSVData('https://storage.googleapis.com/alpsteindb/data.csv'
      .then(res => res.json())
      .then(data => {
        const heute = new Date();
        const tag = heute.getDate();
        const monat = heute.getMonth() + 1;
        const jahr = heute.getFullYear();

        // Heute vor X Jahren - Feature
        const eintraegeHeute = data.filter(e => {
          const [y, m, d] = e.Datum_JMT.split('-').map(Number);
          return d === tag && m === monat;
        });

        const heuteWrapper = document.getElementById('heute-vor-wrapper');
        eintraegeHeute.forEach(e => {
          const [y, m, d] = e.Datum_JMT.split('-').map(Number);
          const xjahre = jahr - y;
          const slide = document.createElement('div');
          slide.className = 'swiper-slide';
          slide.innerHTML = `
            <p>🗓️ Heute vor <strong>${xjahre} Jahren</strong> – am ${d}.${m}.${y}</p>
            <p>🧗‍♂️ <strong>${e.Wer}</strong> war auf dem <strong>${e.Gipfel}</strong>.</p>
            <p>📓 <em>Route:</em> ${e.Route || 'Keine Angabe'}</p>
            ${e.Notiz ? `<p>📝 <em>Notiz:</em> ${e.Notiz}</p>` : ''}
          `;
          heuteWrapper.appendChild(slide);
        });
        new Swiper('#swiper-heute', { navigation: { nextEl: '#swiper-heute .swiper-button-next', prevEl: '#swiper-heute .swiper-button-prev' }});

        // Notiz des Monats - Feature
const notizenWrapper = document.getElementById('notiz-carousel');
const monatNamen = ["Januar", "Februar", "März", "April", "Mai", "Juni", "Juli", "August", "September", "Oktober", "November", "Dezember"];
document.getElementById('notiz-titel-dynamisch').textContent = `Notiz des Monats ${monatNamen[monat - 1]}`;


const notizen = data.filter(e =>
  e.Notiz && e.Notiz.trim().length > 30 && Number(e.Monat) === monat
);

notizen.forEach(e => {
  const [y, m, d] = e.Datum_JMT.split('-').map(Number);
  const yearsAgo = jahr - y;
  const datumText = new Date(e.Datum_JMT).toLocaleDateString('de-DE', {
    day: '2-digit', month: 'long', year: 'numeric'
  });
  const zeitbezug = yearsAgo === 0
    ? `Im ${monatNamen[monat - 1]} dieses Jahres`
    : `Im ${monatNamen[monat - 1]} vor ${yearsAgo} Jahren`;

  const slide = document.createElement('div');
  slide.className = 'swiper-slide';
  slide.innerHTML = `
    <p><em>${zeitbezug} (${datumText})</em></p>
    <blockquote style="font-size: 1.2rem; font-style: italic; margin: 1em 0;">
      “${e.Notiz}”
    </blockquote>
    <p style="color: #555; font-size: 0.9rem;">
      (${e.Wer} – ${e.Gipfel}, Route: ${e.Route})
    </p>
  `;
  notizenWrapper.appendChild(slide);
});
new Swiper('#swiper-notizen', {
  navigation: {
    nextEl: '#swiper-notizen .swiper-button-next',
    prevEl: '#swiper-notizen .swiper-button-prev'
  }
});      });
  </script>
<footer style="text-align:center; font-size: 0.8rem; margin-top: 3rem; color: #666;">
      © Andreas Koller, 2025 – <a href="mailto:andreas-koller@gmx.ch">andreas-koller@gmx.ch</a>
    </footer>

















<script>
document.addEventListener("DOMContentLoaded", () => {
  const monatNamen = [
    "Januar", "Februar", "März", "April", "Mai", "Juni",
    "Juli", "August", "September", "Oktober", "November", "Dezember"
  ];
  const aktuellerMonat = new Date().getMonth();
  const monatElement = document.getElementById("monat");
  if (monatElement) monatElement.textContent = monatNamen[aktuellerMonat];

  // Allgemeine Swiper-Karussells initialisieren
  new Swiper('#swiper-heute', {
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false
    },
    navigation: {
      nextEl: '#swiper-heute .swiper-button-next',
      prevEl: '#swiper-heute .swiper-button-prev'
    }
  });

  new Swiper('#swiper-notizen', {
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false
    },
    navigation: {
      nextEl: '#swiper-notizen .swiper-button-next',
      prevEl: '#swiper-notizen .swiper-button-prev'
    }
  });

  new Swiper('#swiper-hommage', {
    loop: true,
    autoplay: {
      delay: 5000,
      disableOnInteraction: false
    },
    navigation: {
      nextEl: '#swiper-hommage .swiper-button-next',
      prevEl: '#swiper-hommage .swiper-button-prev'
    }
  });

  // HOMMAGE-Inhalt einfügen
  const homageData = [{"tage": 37, "jahre": 2, "datum_jubilaeum": "Montag, 02. Juni 2025", "datum_original": "Freitag, 02. Juni 2023", "route": "Traumfänger, Var. Alptraumjäger", "gipfel": "Filderkopf", "kommentar": "Traumfänger mit Einstiegs-Var. \"Alptraumjäger\" 1 SL 5c+, Andy Trunz, Ken Tompkins", "personen": "Andy Trunz und Ken Tompkins", "anzahl_personen": 2}];
  const homageWrapper = document.getElementById("hommage-carousel");

  if (homageWrapper) {
    homageData.forEach(item => {
      const slide = document.createElement('div');
      slide.className = 'swiper-slide';
      slide.innerHTML = `
        <p><strong>Noch ` + item.tage + ` Tage!</strong></p>
        <p>📅 Am ` + item.datum_jubilaeum + ` jährt sich die Erstbegehung der Route <strong>„` + item.route + `“</strong> zum <strong>` + item.jahre + `. Mal</strong>.</p>
        <p>📖 An jenem ` + item.datum_original + ` hinterließen ` + item.personen + ` folgenden Kommentar im Gipfelbuch:</p>
        <blockquote style="font-size: 1.1rem; font-style: italic; margin: 1em 0;">📝 “` + item.kommentar + `”</blockquote>
      `;
      homageWrapper.appendChild(slide);
    });
  }
});
</script>
</body>
</html>
